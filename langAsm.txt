main:
	push 10
	pop [rax + 0] ; y assign
	push [rax + 1] ; y


	push rax ; stack frame prologue
	push 1
	add
	pop rax


	call factorial


	push rax ; stack frame epilogue
	push 1
	sub
	pop rax

	pop [rax + 1] ; x assign

	hlt

factorial:
	pop [rax + 0] ; a

	push [rax + 0] ; a

	push 0
	je L0
	push 1
	ret

L0:   ; end if
	push [rax + 1] ; a

	push [rax + 1] ; a

	push 1
	SUB

	push rax ; stack frame prologue
	push 1
	add
	pop rax


	call factorial


	push rax ; stack frame epilogue
	push 1
	sub
	pop rax

	MUL
	ret


